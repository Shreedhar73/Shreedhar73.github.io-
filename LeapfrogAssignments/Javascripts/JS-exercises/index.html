<html>
    <head>
        <title>JS Exercises </title>

        <link rel="stylesheet" href="./style.css">

    </head>
    <body>

        <h1> Practice Questions of JavaScript (Questions 1 to 6 are here)</h1>
        <h4> Click on View Result and Check the Console (ctrl+shift+i) for result</h4>
        
        <div class="Question 1">
        <h2> Q1. &nbsp Write a function to render the following pattern in the console:</h2>
        <pre>
        * * * * *
        * * * *
        * * *
        * * 
        *</pre>
       <h3> The function needs to take a number as a parameter which represents how many asterisks are rendered on the first row.</h3>


       <div class="code">
           <pre><h3>
            Code :

            function displayStars(number){
                for(var i=number;i>0;i--){
                    var stars ="";
                      for(var j = 0; j < i; j++)
                    {
                        stars += "* "
                    }
                    console.log(stars)
                }
            }
            displayStars(5);</h3>
        </pre>
          
       </div>
       <button id="Q1" >View Result</button>
    </div>



    <div class="Question 2">
      <h2> Q2. &nbsp Define an object containing information about yourself. The object needs to include 'name', 'address', 'emails', 'interests' and 'education'. The 'education' key needs to be an array of objects containing keys 'name' and 'enrolledDate'.
        <br><br>
        &nbsp &nbsp &nbsp   Using the object defined previously iterate over the 'education' key and print a list of output in the console as follows:
<pre>
        Name: ABC School of Schoolery, Date: 2000
        Name: BCD School of Trickery, Date: 2006
</pre></h2>

<pre><h3>
    <div class="code">
        Code :

        var aboutme = {
            name : "Shreedhar Pandeya",
            address : "Dang",
            email : "Shreedharpandey000@gmail.com",
            interests : ["travel", "music", "sports"],
            education : [
                {
                    name : "Public education avademy",
                    date: "2010"
                },
                {
                    name: "DAV college",
                    date:"2016"
                },
                {
                    name:"Madan Bhandari Memorial College",
                    date:"2018"
                }
            ]
        }
        console.log(aboutme)

        aboutme.education.forEach(function(school){
            console.log(
                "Name: ",
                school.name,
                " Date: ",
                school.date
                );
        })
    </h3></pre>
    </div>
    <button id="Q2"> View Result</button>



    </div>

    <div class="Question 3">
        <h2>
        Q3.  &nbsp Write a function that searches for an object by a specific key value in an array of objects:
        <pre>
            var fruits = [
                {id: 1, name: 'Banana', color: 'Yellow'},
                {id: 2, name: 'Apple', color: 'Red'}
                ]

        searchByName(fruits, 'apple');
        Should return: {id: 2, name: 'Apple', color: 'Red'}

        Also try searchByKey(fruits, 'name', 'apple');
</pre>
</h2>

<pre><h3>
    <div class="code">
        Code :
            var fruits =[
                {id : 1, name:"Banana", color: "Yellow"},
                {id : 2, name:"Apple", color: "red"},
                {id : 3, name:"Orange", color: "Orange"},
                ]

        //Search by name :
        
            searchName = prompt("Enter the name of fruit tto be searched: ");
            function searchByName(fruits, searchName){
                for(var i = 0; i < fruits.length;i++){
                    if(fruits[i]['name'].toUpperCase() == searchName.toUpperCase()){
                        return fruits[i];
                    }
                }
                return "Fruit not found"
            }
            console.log(searchByName(fruits,searchName))

         //Search by key: 
            key = prompt("Enter the key:")
            value = prompt("Enter the value: ")
        
            function searchByKey(fruits,key,value){
                for(var i = 0; i < fruits.length; i++){
                    if(fruits[i][key] == value){
                        return fruits[i]
                    }
                }
                return " Fruit not found"
            }
            console.log(searchByKey(fruits,key,value))   
    </h3></pre>


    </div>

    <button id="Q3a">search By Name</button> <button id="Q3b">search By Key</button>
</div>

<div class="Question 4">

    <h2> Q4. &nbsp  Write a function that transforms an array of inputs into a new array based on a provided transformation function.
        <pre>
            var numbers = [1, 2, 3, 4];
            function transform(collection, tranFunc) { â€¦TODO }
            var output = transform(numbers, function(num) {
            return num * 2;
             });
            // output should be [2, 4, 6, 8]
        </pre>
    </h2>
    
<pre><h3>
    <div class="code">
        Code :
        var numbers = [1,2,3,4];

        function tranFunc(num){
            return num * 2;
        }
        
        function transform(collection){
            var finalResult = Array();
            for(var i = 0; i< collection.length;i++){
                var result = tranFunc(collection[i])
                finalResult.push(result); 
            }
            return finalResult
        }
        console.log(transform(numbers))
    </div>
    </h3></pre>

    <button id="Q4">View Result </button>

</div>

<div class="Question 5">
    <h2>
        Question 5. &nbsp Write a program to sort an array of object by a target key. The original array should remain unchanged.
        <pre>
            var arr = [{
                id: 1,
                name: 'John',
            }, {
                id: 2,
                name: 'Mary',
            }, {
                id: 3,
                name: 'Andrew',
            }];
            
            function sortBy(array, key) {
                ...
            }
            
            var sorted = sortBy(arr, 'name');
        </pre>
    </h2>

    <pre><h3>
        <div class="code">
            Code :

            var arr = [{
                id: 1,
                name: 'John',
            }, {
                id: 2,
                name: 'Mary',
            }, {
                id: 3,
                name: 'Andrew',
            }];
    
            varKeyArray = Array()
            newArr = Array()
            key = prompt("Enter key to sort (type id or name): ")
            function sortBy(array, key){
                for (var i = 0; i < array.length; i++){
                    varKeyArray.push(array[i][key])
                }
        
                sortedArray = varKeyArray.sort();
        
                for (var i=0;i < array.length; i++){
                    for (var j=0; j < array.length; j++){
                        if (array[j][key] == varKeyArray[i]){
                            newArr.push(array[j]);
                        }
                    }
                }
                console.log(" Old Array: " )
                console.log(array);
                console.log("New Array: ")
                console.log(newArr);
            }
        
            sortBy(arr, key)
        </div>
        </h3></pre>
    
        <button id="Q5">View Result </button>

    </div>
</div>


<div class="Question 6">
    <h2>
        Question 6. &nbsp Write a program to normalize a given input to get the expected output.
        <pre>
         // From this
            var input = {
            '1': {
                id: 1,
                name: 'John',
                children: [
                { id: 2, name: 'Sally' },
                { id: 3, name: 'Mark', children: [{ id: 4, name: 'Harry' }] }
                ]
            },
            '5': {
                id: 5,
                name: 'Mike',
                children: [{ id: 6, name: 'Peter' }]
            }
            };

            // To this
            var output = {
            '1': { id: 1, name: 'John', children: [2, 3] },
            '2': { id: 2, name: 'Sally' },
            '3': { id: 3, name: 'Mark', children: [4] },
            '4': { id: 4, name: 'Harry' },
            '5': { id: 5, name: 'Mike', children: [6] },
            '6': { id: 6, name: 'Peter' }
            };
        </pre>
    </h2>
    <pre><h3>
        <div class="code">
            Code :

            var input = {
                '1': {
                  id: 1,
                  name: 'John',
                  children: [
                    { id: 2, name: 'Sally' },
                    { id: 3, name: 'Mark', children: [{ id: 4, name: 'Harry' }] }
                  ]
                },
                '5': {
                  id: 5,
                  name: 'Mike',
                  children: [{ id: 6, name: 'Peter' }]
                }
              };
            
            newObj = {}
            output = {}
            
            
            
            function normalize(){
              for (var detail in input){
                if (input[detail]['children']){
                  newObj['id'] = input[detail]['id'];
                  newObj['name'] = input[detail]['name'];
                  newObj['children'] = (input[detail]['children']).map(function (child){ return child['id'];})
                  output[`${newObj['id']}`] = newObj
                  newObj = {}
                  for (var i=0; i < input[detail]['children'].length ; i++){
                   if(input[detail]['children'][i]['children']){
                     input[detail]['children'][i]['children'].forEach(updateFunction);
                   }
                    newObj['id'] = input[detail]['children'][i]['id'];
                    newObj['name'] = input[detail]['children'][i]['name'];
                    output[`${newObj['id']}`] = newObj;
                    newObj = {}
                  }
            
                } else {
                  newObj['id'] = input[detail]['id'];
                  newObj['name'] = input[detail]['name'];
                  output[`${newObj['id']}`] = newObj
                }
              }
              
              console.log(output)
              
            }
            
            function updateFunction(item, index){
              newObj['id'] = item['id'];
              newObj['name'] = item['name'];
              output[`${item['id']}`] = newObj;
              newObj = {}
            }
        </div>
        </h3></pre>
    
        <button id="Q6">View Result </button>



</div>



    <script src="./Question1.js"></script>
    <script src="./Question2.js"></script>
    <script src="./Question3.js"></script>
    <script src="./Question4.js"></script>
    <script src="./Question5.js"></script>
    <script src="./Question6.js"></script>
    </body>

</html>